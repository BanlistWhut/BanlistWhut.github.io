(window.webpackJsonp=window.webpackJsonp||[]).push([[325],{702:function(t,e,a){"use strict";a.r(e);var s=a(27),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"平台支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台支持"}},[t._v("#")]),t._v(" 平台支持")]),t._v(" "),a("p",[t._v("Docker CE 支持多种平台，如下表所示")]),t._v(" "),a("h3",{attrs:{id:"桌面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#桌面"}},[t._v("#")]),t._v(" 桌面")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("平台")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("架构")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZG9ja2VyLWZvci1tYWMvaW5zdGFsbC8=",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Desktop for Mac (macOS)"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("X64")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZG9ja2VyLWZvci13aW5kb3dzL2luc3RhbGwv",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Desktop for Windows (Microsoft Windows 10)"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("X64")])])])]),t._v(" "),a("h3",{attrs:{id:"服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[t._v("#")]),t._v(" 服务器")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("平台")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("x86_64 / amd64")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("ARM")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("ARM64 / AARCH64")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("IBM Power (ppc64le)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("IBM Z (s390x)")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vaW5zdGFsbC9saW51eC9kb2NrZXItY2UvY2VudG9zLw==",target:"_blank",rel:"noopener noreferrer"}},[t._v("CentOS"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vaW5zdGFsbC9saW51eC9kb2NrZXItY2UvZGViaWFuLw==",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debian"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vaW5zdGFsbC9saW51eC9kb2NrZXItY2UvZmVkb3JhLw==",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fedora"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vaW5zdGFsbC9saW51eC9kb2NrZXItY2UvdWJ1bnR1Lw==",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ubuntu"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("✔")])])])]),t._v(" "),a("h2",{attrs:{id:"准备安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备安装"}},[t._v("#")]),t._v(" 准备安装")]),t._v(" "),a("h3",{attrs:{id:"卸载旧版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本"}},[t._v("#")]),t._v(" 卸载旧版本")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" remove docker docker-engine docker.io containerd runc\n")])])]),a("h3",{attrs:{id:"使用-apt-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-apt-安装"}},[t._v("#")]),t._v(" 使用 APT 安装")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新数据源")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装所需依赖")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" apt-transport-https ca-certificates "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" software-properties-common\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 GPG 证书")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新增数据源")]),t._v("\nadd-apt-repository "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu '),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' stable"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新并安装 Docker CE")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y docker-ce\n")])])]),a("h3",{attrs:{id:"验证安装是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功"}},[t._v("#")]),t._v(" 验证安装是否成功")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker version\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nClient:\n    Version:           "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.09")]),t._v(".6 \n    API version:       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.39")]),t._v(" \n    Go version:        go1.10.8 \n    Git commit:        481bc77 \n    Built:             Sat May  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 02:35:57 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v(" \n    OS/Arch:           linux/amd64 \n    Experimental:      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nServer: Docker Engine - Community \n\tEngine:  \n        Version:          "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.09")]),t._v(".6  \n        API version:      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.39")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        Go version:       go1.10.8  \n        Git commit:       481bc77 \n        Built:            Sat May  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 01:59:36 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("  \n        OS/Arch:          linux/amd64  \n        Experimental:     "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),a("h2",{attrs:{id:"配置-docker-镜像加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-镜像加速器"}},[t._v("#")]),t._v(" 配置 Docker 镜像加速器")]),t._v(" "),a("h3",{attrs:{id:"阿里云加速器-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云加速器-推荐"}},[t._v("#")]),t._v(" 阿里云加速器（推荐）")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9wcm9tb3Rpb24uYWxpeXVuLmNvbS9udG1zL2FjdC9xd2JrLmh0bWw/dXNlckNvZGU9aGdxa3U3YzU=",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击链接获取"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"官方提供中国区镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#官方提供中国区镜像"}},[t._v("#")]),t._v(" 官方提供中国区镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("https://registry.docker-cn.com\n")])])]),a("h3",{attrs:{id:"配置加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置加速器"}},[t._v("#")]),t._v(" 配置加速器")]),t._v(" "),a("p",[t._v("以配置阿里云加速器为例，首先 "),a("a",{attrs:{href:"http://www.qfdmy.com/wp-content/themes/quanbaike/go.php?url=aHR0cHM6Ly9wcm9tb3Rpb24uYWxpeXVuLmNvbS9udG1zL2FjdC9xd2JrLmh0bWw/dXNlckNvZGU9aGdxa3U3YzU=",target:"_blank",rel:"noopener noreferrer"}},[t._v("登录阿里云（没有账号请先注册）"),a("OutboundLink")],1),t._v("，搜索 "),a("strong",[t._v("容器镜像服务")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.qfdmy.com/wp-content/uploads/2019/08/8e2280fbb4c6c26.png",alt:"img"}})]),t._v(" "),a("p",[t._v("找到你的专属加速器")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.qfdmy.com/wp-content/uploads/2019/08/ee2667294d92be1.png",alt:"img"}})]),t._v(" "),a("p",[t._v("通过修改 daemon 配置文件 "),a("code",[t._v("/etc/docker/daemon.json")]),t._v(" 来使用加速器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/docker/daemon.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'EOF\'\n{\n"registry-mirrors": ["https://xxxxxxxx.mirror.aliyuncs.com"]\n}\nEOF')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启 Docker")]),t._v("\nsystemctl daemon-reload\nsystemctl restart docker\n")])])]),a("h3",{attrs:{id:"验证配置是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证配置是否成功"}},[t._v("#")]),t._v(" 验证配置是否成功")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker info\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nContainers: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),t._v(" Running: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" Paused: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" Stopped: 20Images: 10Server Version: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.09")]),t._v(".6Storage Driver: overlay2 Backing Filesystem: extfs Supports d_type: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" Native Overlay Diff: trueLogging Driver: json-fileCgroup Driver: cgroupfsPlugins: Volume: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" Network: bridge "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" macvlan null overlay Log: awslogs fluentd gcplogs gelf journald json-file "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" logentries splunk syslogSwarm: inactiveRuntimes: runcDefault Runtime: runcInit Binary: docker-initcontainerd version: bb71b10fd8f58240ca47fbb579b9d1028eea7c84runc version: 2b18fe1d885ee5083ef9f0838fee39b62d653e30init version: fec3683Security Options: apparmor seccomp  Profile: defaultKernel Version: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.15")]),t._v(".0-51-genericOperating System: Ubuntu "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.04")]),t._v(".2 LTSOSType: linuxArchitecture: x86_64CPUs: 2Total Memory: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".924GiBName: kubernetes-masterID: PJ4H:7AF2:P5UT:6FMR:W4DI:SSWR:IQQR:J6QO:ARES:BOAC:ZVMO:SV2YDocker Root Dir: /var/lib/dockerDebug Mode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": falseDebug Mode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": falseRegistry: https://index.docker.io/v1/Labels:Experimental: falseInsecure Registries: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.0/8\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 这里是你配置的镜像加速器")]),t._v("\nRegistry Mirrors: https://xxxxxxxx.mirror.aliyuncs.com/\nLive Restore Enabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nProduct License: Community Engine\n\nWARNING: No swap limit support\n")])])]),a("h2",{attrs:{id:"运行第一个容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行第一个容器"}},[t._v("#")]),t._v(" 运行第一个容器")]),t._v(" "),a("p",[t._v("我们以 Nginx 为例，体验 Docker 是如何运行容器的")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下载镜像")]),t._v("\ndocker pull nginx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行容器")]),t._v("\ndocker run --name nginx-container -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(":80 -d nginx\n")])])]),a("p",[t._v("浏览器输入虚拟机地址即可访问 Nginx")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.qfdmy.com/wp-content/uploads/2019/08/1670b1982b988eb.png",alt:"img"}})])])}),[],!1,null,null,null);e.default=n.exports}}]);