---
title: Mybatis
---

## Mybatis一级缓存与二级缓存

1. 一级缓存，就是 同一次查询事务中，同样的查询语句执行了两次，第二次查询就不走数据库。数据缓存到一级缓存中。
2. 二级缓存，就是第一次查询事务执行完毕，会将数据缓存到二级缓存中，第二次查询事务就不走数据库。
3. 二者区别在于 **是否是同一次事务**。
   
### Mybatis缓存的缺点
1. 一级缓存很少用到，因为我们几乎不会在一次查询事务中，执行多次相同的查询语句。
2. 二级缓存是与应用服务器强耦合的，难以实现集群同步。
3. 二级缓存浪费内存，因为只要查询过的数据，二级缓存都会缓存，一些很少用到的数据也会长期占用内存。当然，mybatis也有垃圾清理算法。

